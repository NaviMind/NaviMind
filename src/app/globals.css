@tailwind base;
@tailwind components;
@tailwind utilities;

/* Кастомный скролл для всех нужных мест */
.custom-scroll::-webkit-scrollbar {
  width: 6px;
}
.custom-scroll::-webkit-scrollbar-track {
  background: transparent;
}
.custom-scroll::-webkit-scrollbar-thumb {
  background: rgba(100, 100, 100, 0.4); /* light mode */
  border-radius: 4px;
}
@media (prefers-color-scheme: dark) {
  .custom-scroll::-webkit-scrollbar-thumb {
    background: rgba(160, 160, 160, 0.35); /* dark mode */
  }
}

/* Скрытый скролл только для FilePreview */
.filepreview-hidden-scrollbar::-webkit-scrollbar {
  display: none !important;
}
.filepreview-hidden-scrollbar {
  -ms-overflow-style: none !important;
  scrollbar-width: none !important;
}

/* Fade-in animation for Hello block */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.4s ease-out;
}

@layer utilities {
  .animate-fade-in-scale {
    @apply transition-all duration-150 scale-95 opacity-0;
    animation: fadeInScale 150ms ease-out forwards;
  }

  @keyframes fadeInScale {
    0% {
      opacity: 0;
      transform: scale(0.95);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }
}

/* Pulsing outline glow in compass color */
@keyframes pulse-outline {
  0%, 100% {
    box-shadow: 0 0 6px rgba(14, 165, 233, 0.6), 0 0 12px rgba(14, 165, 233, 0.3);
  }
  50% {
    box-shadow: 0 0 14px rgba(14, 165, 233, 0.9), 0 0 28px rgba(14, 165, 233, 0.5);
  }
}

.animate-pulse-outline {
  animation: pulse-outline 3s ease-in-out infinite;
}

background: radial-gradient(
  ellipse at 50% 35%,
  #2563eb 0%,
  #1e3a8a 30%,
  #111827 75%,
  #0c0a09 100%
);

.text-glow {
  text-shadow: 0 1px 2px rgba(0,0,0,0.6);
}

@keyframes subtle-glow {
  0%, 100% {
    box-shadow: 0 0 8px rgba(59, 130, 246, 0.4); 
  }
  50% {
    box-shadow: 0 0 14px rgba(59, 130, 246, 0.8); 
  }
}

.animate-glow {
  animation: subtle-glow 2.5s ease-in-out infinite;
}

@keyframes shine {
  0% { background-position: 200% 50%; }
  100% { background-position: -200% 50%; }
}
.animate-shine {
  animation: shine 4s linear infinite;
}

/* === WelcomePage: правки только для PWA fullscreen === */
@media all and (display-mode: standalone) {
  .WelcomePage .welcome-typewriter {
    margin-top: auto !important;
    margin-bottom: auto !important;
    transform: translateY(-16px);
  }

  .WelcomePage .pwa-button {
    margin-bottom: calc(env(safe-area-inset-bottom) + 48px) !important;
  }
}

/* === LoginPage корректировка только для PWA fullscreen === */
@media all and (display-mode: standalone) {
  .LoginPage {
  justify-content: flex-start !important; 
  align-items: center !important;
  min-height: 100vh !important;
  padding-top: 7vh !important; 
}

  .LoginPage .login-container {
    transform: translateY(10px);
  }

  .LoginPage footer {
    margin-bottom: calc(env(safe-area-inset-bottom) + 24px) !important;
  }
}

/* Prevent iOS cursor jump during parent animation */
textarea {
  transform: translateZ(0);
  will-change: auto;
}

/* Mobile keyboard height fix — keeps InputBar above keyboard */
:root {
  --vh: 1vh;
}

@supports (height: 100dvh) {
  :root {
    --vh: 1dvh;
  }
}

body {
  height: calc(var(--vh) * 100);
}
